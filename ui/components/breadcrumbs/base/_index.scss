// Copyright (c) 2015-present, salesforce.com, inc. All rights reserved
// Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license

/**
 * @summary Create breadcrumbs component
 * @name base
 * @selector .slds-breadcrumb
 * @restrict ol
 * @support dev-ready
 * @variant
 */

.slds-breadcrumb {
  /**
   * @summary Item of the breadcrumb list
   * @selector .slds-breadcrumb__item
   * @restrict .slds-breadcrumb li
   */
  .slds-list__item,
  .slds-breadcrumb__item {
    position: relative;

    &:before {
      content: '\003E';
      position: absolute;
      left: (($spacing-x-small / 2) * -1);
    }

    > a {
      display: block;
      padding-top: 0;
      padding-right: var(--sds-c-breadcrumbs-spacing-inline-end, $spacing-x-small);
      padding-bottom: 0;
      padding-left: var(--sds-c-breadcrumbs-spacing-inline-start, $spacing-x-small);

      &:hover {
        text-decoration: none;
      }
    }

    &:first-child {

      > a {
        // @todo re-evaluate Styling Hooks reassignment
        padding-left: 0;
      }

      &:before {
        content: '';
      }
    }
  }

  .slds-dropdown-trigger {
    margin-right: var(--sds-c-breadcrumbs-spacing-inline-end, $spacing-x-small);
  }
}

// Styles specific to Kinetic Breadcrumbs
[kx-scope='breadcrumbs-item'][kx-type='underline'] {

  > a {
    position: relative;
    will-change: color, transform;
    transition: transform $kx-duration-normal $kx-ease-out;
    margin-right: var(--sds-c-breadcrumbs-spacing-inline-end, $spacing-x-small);
    margin-left: var(--sds-c-breadcrumbs-spacing-inline-start, $spacing-x-small);
    padding-right: 0;
    padding-left: 0;

    &:active {
      transform: scale(0.95);

      @media (prefers-reduced-motion: reduce) {
        transform: none;
      }
    }
  }

  > a:after {
    will-change: transform-origin, transform;
    content: '';
    position: absolute;
    top: 80%; // CAUTION: magic number, refactor to calc() if line-height and padding props get added to breadcrumbs
    left: 0%;
    height: rem(1px);
    width: 100%;
    background: $color-brand-dark;
    background-position: left top;
    transform: scaleX(0);
    transform-origin: var(--slds-kx-breadcrumbs-pointer-position-x, 50%) 0;
    transition: transform $kx-duration-normal $kx-ease-out;
  }

  > a:hover:after {
    transform: scaleX(1);
  }

  &:first-child {

    > a {
      margin-left: 0;
    }
  }
}
